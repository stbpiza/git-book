# 해시




# 문제풀이

## 오픈채팅방
- https://school.programmers.co.kr/learn/courses/30/lessons/42888

### 시간 복잡도 분석
- 문자열이 담긴 배열의 길이는 1 이상 100,000 이하
  - ```O(NlogN)``` 까지 사용이 가능
  - 이중 for문 사용 불가

### 사용할 알고리즘 분석
- ```유저 아이디```와 ```닉네임```을 짝지어서 저장할 필요가 있다.
  - HashMap을 사용해서 저장하는게 적합
- 중간에 닉네임이 변경되면 이전 결과값이 수정되어야함
  - 결과값을 ArrayList에 담아서 순서 유지 및 수정 가능하도록 함

### 설계
- ```유저 아이디```를 key로, ```닉네임```을 value로 넣어서 저장
  - ```닉네임```이 수정되면 바로바로 반영
- 닉네임이 중간에 계속 바뀌기 때문에 결과 String에는 우선 ```유저 아이디```로 저장
  - "uid1234 들어왔습니다.", "uid1234 나갔습니다."
- 모든 순서가 끝나면 변환작업
  - "Prodo님이 들어왔습니다.", "Prodo님이 나갔습니다."


```java
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
class Solution {
    public String[] solution(String[] record) {
        List<String> resultOrder = new ArrayList<>();
        Map<String, String> nickNameMap = new HashMap<>();
        for (String s : record) {
            recordDto recordDto = recordParser(s);

            if (!nickNameMap.containsKey(recordDto.uid)) {
                nickNameMap.put(recordDto.uid, recordDto.nickname);
            }

            if (recordDto.action.equals("Enter")) {
                resultOrder.add(recordDto.uid + " 들어왔습니다.");
                nickNameMap.put(recordDto.uid, recordDto.nickname);
            } else if (recordDto.action.equals("Leave")) {
                resultOrder.add(recordDto.uid + " 나갔습니다.");
            } else {
                nickNameMap.put(recordDto.uid, recordDto.nickname);
            }
        }

        String[] answer = new String[resultOrder.size()];
        for (int i=0; i<resultOrder.size(); i++) {
            String[] split = resultOrder.get(i).split(" ");
            answer[i] = nickNameMap.get(split[0]) + "님이 " + split[1];
        }
        return answer;
    }
    
    
    public recordDto recordParser(String record) {
    String[] split = record.split(" ");

        if (split.length == 3) {
            return new recordDto(split[0], split[1], split[2]);
        } else {
            return new recordDto(split[0], split[1], null);
        }
    }

    public class recordDto {
        String action;
        String uid;
        String nickname;

        public recordDto(String action, String uid, String nickname) {
            this.action = action;
            this.uid = uid;
            this.nickname = nickname;
        }
    }
}
```