# 백트래킹

## 백트래킹의 개념
> - 가장 최근에 방문했던 노드로 다시 돌아감(예를 들어 DFS)
> - 완전 탐색하지 말고, 내가 찾는 답이리 가능성인 경우에만 탐색


## 왜 백트래킹인가?
- 외출하러 나왔는데, 집에 놓고온 물건이 생각났다.
- 이때 모든 아파트를 다 탐색할 것인가? 아니면 우리집만 탐색할 것인가?
  - 우리집에 물건이 있으니 다른 집은 살펴보는 의미가 없다고 판단하는 부분을 구현해야함
  - ```유망 함수```를 구현한다고 한다

## 백트래킹을 푸는 과정
- 상태정의 : 문제의 각 단계에서 가능한 상태를 정의
- 유망함수 : 현재 생태가 유망한지 판단, 유망하지 않으면 더 이상 탐색하지 않음
- 해결책 확인 : 현재 상태가 문제의 해결책인지 판단
- 재귀 호출 : 유망한 상태로 이동하면서 문제 해결

## 백트래킹 예시 (부분 합)
- {1, 2, 3, 4}의 집합에서 숫자를 뽑아서 합이 5인 조합 구하기


- 완전 탐색으로 풀기
  - 모든 경우의 수를 다 탐색
  - 시간복잡도 : ```O(2^N)```
- 백트래킹으로 풀기
  - 상태 정의 : 현재까지 선택한 숫자들의 합
  - 유망 함수 : 현재 부분 합이 목표 값을 초과하면 유망하지 않다고 판단
  - 해결책 확인 : 현재 부분 합이 목표 값과 일치하는지 확인
  - 재귀 호출 : 다음 숫자를 선택하여 부분합 갱신

## 백트래킹 예시 (N-Queen)
- 체스의 퀸을 N X N 체스판에 N개 배치했을때 서로 공격할 수 없는 위치에 놓을 수 있는 경우의 수 구하기

- 완전 탐색으로 풀기
  - 모든 경우의 수를 다 탐색
  - 시간복잡도 : ```O(N^N)```
- 백트래킹으로 풀기
  - 상태 정의 : 각 행에 하나의 퀸이 위차하도록 함 + 대각선에 퀸이 없도록 함(행과 열의 절대값 차이가 같으면 대각선에 위치)
  - 유망 함수 : 현재 행에 퀸을 놓았을 때, 다른 퀸과 충돌하늕지 확인
  - 해결책 확인 : 모든 퀸이 배치되었는지 확인
  - 재귀 호출 : 다음 행에 퀸을 배치